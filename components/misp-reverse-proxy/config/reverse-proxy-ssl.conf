LoadModule ssl_module modules/mod_ssl.so

Listen 443

    SSLSessionCache        "shmcb:/usr/local/apache2/logs/ssl_scache(512000)"
    SSLSessionCacheTimeout  300

    NameVirtualHost *:443
    <VirtualHost *:443>
    
        ErrorLog /usr/local/apache2/conf/error.log
        TransferLog /usr/local/apache2/conf/transfer.log

        SSLEngine On
        SSLEngine on
        SSLProxyEngine on
        SSLProxyVerify none
        SSLProxyCheckPeerCN off
        SSLProxyCheckPeerName off
        
        SSLCipherSuite HIGH:MEDIUM:!MD5:!RC4:!3DES
        SSLProxyCipherSuite HIGH:MEDIUM:!MD5:!RC4:!3DES
        SSLHonorCipherOrder on 
        SSLProtocol all -SSLv3
        SSLProxyProtocol all -SSLv3
        

        # Set the path to SSL certificate
        # Usage: SSLCertificateFile /path/to/cert.pem
        SSLCertificateFile "/usr/local/apache2/conf/cert/server.crt"
        SSLCertificateKeyFile "/usr/local/apache2/conf/cert/server.key"
        
        # Servers to proxy the connection, or;
        # List of application servers:
        # Usage:
        # ProxyPass / http://[IP Addr.]:[port]/
        # ProxyPassReverse / http://[IP Addr.]:[port]/
        # Example: 
        ProxyPass / http://host-172-16-102-52.nubes.stfc.ac.uk:8080/
        ProxyPassReverse / http://host-172-16-102-52.nubes.stfc.ac.uk:8080/
        
        # Or, balance the load:
        # ProxyPass / balancer://balancer_cluster_name
    CustomLog /usr/local/apache2/conf/error.log \
          "%t %h %{SSL_PROTOCOL}x %{SSL_CIPHER}x \"%r\" %b"

    </VirtualHost>
